"use strict";(self["webpackChunkspringboot_vue_demo"]=self["webpackChunkspringboot_vue_demo"]||[]).push([[983],{8983:function(e,l,a){a.r(l),a.d(l,{default:function(){return x}});var t=a(6252);const o={style:{padding:"10px"}},s={style:{margin:"10px 0"}},r=(0,t.Uk)("新增"),d=(0,t.Uk)("导入"),i=(0,t.Uk)("导出"),m={style:{margin:"10px 0"}},n=(0,t.Uk)("查询"),u={key:0},p={key:1},g=(0,t.Uk)("编辑"),h=(0,t.Uk)("删除"),f={style:{margin:"10px 0"}},c=(0,t.Uk)("男"),w=(0,t.Uk)("女"),b=(0,t.Uk)("未知"),V={class:"dialog-footer"},W=(0,t.Uk)("取消"),y=(0,t.Uk)("确定");function k(e,l,a,k,_,C){const U=(0,t.up)("el-button"),z=(0,t.up)("el-input"),x=(0,t.up)("el-table-column"),v=(0,t.up)("el-popconfirm"),S=(0,t.up)("el-table"),D=(0,t.up)("el-pagination"),N=(0,t.up)("el-form-item"),P=(0,t.up)("el-radio"),$=(0,t.up)("el-form"),Z=(0,t.up)("el-dialog");return(0,t.wg)(),(0,t.iD)("div",o,[(0,t._)("div",s,[(0,t.Wm)(U,{type:"primary",onClick:C.add},{default:(0,t.w5)((()=>[r])),_:1},8,["onClick"]),(0,t.Wm)(U,{type:"primary"},{default:(0,t.w5)((()=>[d])),_:1}),(0,t.Wm)(U,{type:"primary"},{default:(0,t.w5)((()=>[i])),_:1})]),(0,t._)("div",m,[(0,t.Wm)(z,{modelValue:_.search,"onUpdate:modelValue":l[0]||(l[0]=e=>_.search=e),placeholder:"请输入关键字",style:{width:"20%"},clearable:""},null,8,["modelValue"]),(0,t.Wm)(U,{type:"primary",style:{"margin-left":"5px"},onClick:C.load},{default:(0,t.w5)((()=>[n])),_:1},8,["onClick"])]),(0,t.Wm)(S,{data:_.tableData,border:"",stripe:"",style:{width:"100%"}},{default:(0,t.w5)((()=>[(0,t.Wm)(x,{prop:"id",label:"ID",sortable:""}),(0,t.Wm)(x,{prop:"username",label:"用户名"}),(0,t.Wm)(x,{prop:"nickName",label:"昵称"}),(0,t.Wm)(x,{prop:"age",label:"年龄"}),(0,t.Wm)(x,{prop:"sex",label:"性别"}),(0,t.Wm)(x,{prop:"address",label:"地址"}),(0,t.Wm)(x,{label:"角色"},{default:(0,t.w5)((e=>[1===e.row.role?((0,t.wg)(),(0,t.iD)("span",u,"管理员")):(0,t.kq)("",!0),2===e.row.role?((0,t.wg)(),(0,t.iD)("span",p,"普通用户")):(0,t.kq)("",!0)])),_:1}),(0,t.Wm)(x,{label:"操作",width:"200"},{default:(0,t.w5)((e=>[(0,t.Wm)(U,{size:"small",onClick:l=>C.handleEdit(e.row)},{default:(0,t.w5)((()=>[g])),_:2},1032,["onClick"]),(0,t.Wm)(v,{title:"你确定删除吗?",onConfirm:l=>C.handleDelete(e.row.id)},{reference:(0,t.w5)((()=>[(0,t.Wm)(U,{size:"small",type:"danger"},{default:(0,t.w5)((()=>[h])),_:1})])),_:2},1032,["onConfirm"])])),_:1})])),_:1},8,["data"]),(0,t._)("div",f,[(0,t.Wm)(D,{onSizeChange:C.handleSizeChange,onCurrentChange:C.handleCurrentChange,currentPage:_.currentPage,"page-sizes":[5,10,20],"page-size":_.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:_.total},null,8,["onSizeChange","onCurrentChange","currentPage","page-size","total"]),(0,t.Wm)(Z,{modelValue:_.dialogVisible,"onUpdate:modelValue":l[9]||(l[9]=e=>_.dialogVisible=e),title:"Tips",width:"30%"},{footer:(0,t.w5)((()=>[(0,t._)("span",V,[(0,t.Wm)(U,{onClick:l[8]||(l[8]=e=>_.dialogVisible=!1)},{default:(0,t.w5)((()=>[W])),_:1}),(0,t.Wm)(U,{type:"primary",onClick:C.save},{default:(0,t.w5)((()=>[y])),_:1},8,["onClick"])])])),default:(0,t.w5)((()=>[(0,t.Wm)($,{model:_.form,"label-width":"120px"},{default:(0,t.w5)((()=>[(0,t.Wm)(N,{label:"用户名"},{default:(0,t.w5)((()=>[(0,t.Wm)(z,{modelValue:_.form.username,"onUpdate:modelValue":l[1]||(l[1]=e=>_.form.username=e),style:{width:"80%"}},null,8,["modelValue"])])),_:1}),(0,t.Wm)(N,{label:"昵称"},{default:(0,t.w5)((()=>[(0,t.Wm)(z,{modelValue:_.form.nickName,"onUpdate:modelValue":l[2]||(l[2]=e=>_.form.nickName=e),style:{width:"80%"}},null,8,["modelValue"])])),_:1}),(0,t.Wm)(N,{label:"年龄"},{default:(0,t.w5)((()=>[(0,t.Wm)(z,{modelValue:_.form.age,"onUpdate:modelValue":l[3]||(l[3]=e=>_.form.age=e),style:{width:"80%"}},null,8,["modelValue"])])),_:1}),(0,t.Wm)(N,{label:"性别"},{default:(0,t.w5)((()=>[(0,t.Wm)(P,{modelValue:_.form.sex,"onUpdate:modelValue":l[4]||(l[4]=e=>_.form.sex=e),label:"男",size:"large"},{default:(0,t.w5)((()=>[c])),_:1},8,["modelValue"]),(0,t.Wm)(P,{modelValue:_.form.sex,"onUpdate:modelValue":l[5]||(l[5]=e=>_.form.sex=e),label:"女",size:"large"},{default:(0,t.w5)((()=>[w])),_:1},8,["modelValue"]),(0,t.Wm)(P,{modelValue:_.form.sex,"onUpdate:modelValue":l[6]||(l[6]=e=>_.form.sex=e),label:"未知",size:"large"},{default:(0,t.w5)((()=>[b])),_:1},8,["modelValue"])])),_:1}),(0,t.Wm)(N,{label:"地址"},{default:(0,t.w5)((()=>[(0,t.Wm)(z,{type:"textarea",modelValue:_.form.address,"onUpdate:modelValue":l[7]||(l[7]=e=>_.form.address=e),style:{width:"80%"}},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])])])}var _=a(4471),C={name:"User",components:{},data(){return{form:{},dialogVisible:!1,total:10,currentPage:1,pageSize:10,search:"",tableData:[]}},created(){this.load()},methods:{load(){_.Z.get("/user",{params:{pageNum:this.currentPage,pageSize:this.pageSize,search:this.search}}).then((e=>{console.log(e),this.tableData=e.data.records,this.total=e.data.total}))},add(){this.dialogVisible=!0,this.form={}},save(){this.form.id?_.Z.put("/user",this.form).then((e=>{console.log(e),"0"===e.code?this.$message({type:"success",message:"更新成功"}):this.$message({type:"error",message:e.msg}),this.load(),this.dialogVisible=!1})):_.Z.post("/user",this.form).then((e=>{console.log(e),"0"===e.code?this.$message({type:"success",message:"新增成功"}):this.$message({type:"error",message:e.msg}),this.load(),this.dialogVisible=!1}))},handleEdit(e){this.form=JSON.parse(JSON.stringify(e)),this.dialogVisible=!0},handleDelete(e){console.log(e),_.Z["delete"]("/user/"+e).then((e=>{"0"===e.code?this.$message({type:"success",message:"删除成功"}):this.$message({type:"error",message:e.msg}),this.load()}))},handleSizeChange(e){this.pageSize=e,this.load()},handleCurrentChange(e){this.currentPage=e,this.load()}}},U=a(3744);const z=(0,U.Z)(C,[["render",k]]);var x=z}}]);
//# sourceMappingURL=983.b823e518.js.map